/* Base Theme: dark + neon accent (Twitch/Material vibes) */
:root {
  --bg: #0b0f17;
  --surface: #111827cc;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --primary: #8b5cf6; /* purple */
  --accent: #22d3ee;  /* cyan */
  --danger: #ef4444;
  --success: #22c55e;
  --gold: #fbbf24;
}
* { box-sizing: border-box; }
html, body { margin:0; padding:0; height:100%; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color: var(--text); }
.no-hscroll { overflow-x: hidden; }
.no-vscroll { overflow-y: hidden; }
.bg-dark { background: var(--bg); }
.gradient { background: radial-gradient(1200px 800px at 10% 10%, #141a25, transparent), radial-gradient(1400px 900px at 80% 20%, #0f172a, transparent); }
.app-bar { display:flex; align-items:center; justify-content:space-between; padding:12px 20px; background: #0b1020aa; backdrop-filter: blur(8px); border-bottom: 1px solid #1f2937; position: sticky; top:0; z-index:10; }
.logo { font-weight:800; display:flex; gap:8px; align-items:center; letter-spacing:0.5px; }
.crown { filter: drop-shadow(0 0 8px #fbbf24aa); }
.container { max-width: 1100px; margin: 0 auto; padding: 24px; }
.container.center-page { min-height: calc(100vh - 140px); display:flex; flex-direction:column; justify-content:center; }
.choose-page .container.center-page { justify-content: flex-start; padding-top: 0; }
/* Start content right after sticky header */
.choose-page .container { padding-top: 12px; }
.body-full { min-height: 100svh; display:flex; flex-direction: column; }
.footer.full-overlay { position: fixed; bottom: 8px; left:0; right:0; text-align:center; opacity:.7; pointer-events:none; }
.center { display:flex; align-items:center; justify-content:center; min-height: calc(100vh - 120px); }
/* Title alignment without adding height */
.text-center { text-align: center; }
/* Reduce space below title to pull cards up */
.title { margin-bottom: 8px; }
.title-medieval { font-family: 'Cinzel', serif; font-weight: 700; font-size: 40px; letter-spacing: .5px; text-align: center; margin: 10px 0 14px; color: #e5e7eb; text-shadow: 0 2px 0 #0009, 0 0 18px #8b5cf622; }
.card { background: var(--surface); border: 1px solid #1f2937; border-radius: 14px; padding: 20px; box-shadow: 0 10px 30px #0008; display:flex; flex-direction: column; }
/* Slightly less vertical padding on small screens so cards appear higher */
@media (max-width: 780px) {
  .card { padding: 14px; }
}
.glass { backdrop-filter: blur(16px) saturate(140%); }
.title { font-size: 32px; margin: 0 0 6px; }
.subtitle { color: var(--muted); margin: 0 0 16px; }
.neon { text-shadow: 0 0 18px #8b5cf633, 0 0 8px #22d3ee33; }
.btn { border:none; padding:12px 16px; border-radius: 12px; font-weight:700; color:#fff; cursor:pointer; transition: transform .08s ease, box-shadow .2s;
  background: linear-gradient(135deg, #6d28d9, #8b5cf6); box-shadow: 0 6px 20px #8b5cf644; }
.btn:hover { transform: translateY(-1px); box-shadow: 0 10px 24px #8b5cf666; }
.btn:active { transform: translateY(0); }
.btn-primary { background: linear-gradient(135deg, #7c3aed, #22d3ee); box-shadow: 0 8px 28px #22d3ee55; }
.btn-ghost { background: #ffffff0f; border:1px solid #ffffff22; color: var(--text); }
.btn-accent { background: linear-gradient(135deg, #06b6d4, #22d3ee); }
.big { font-size: 22px; padding: 18px 28px; border-radius: 16px; }
.pulse { animation: pulse 2s infinite; }
@keyframes pulse { 0%{ box-shadow: 0 0 0 0 #22d3ee66; } 70%{ box-shadow: 0 0 0 18px #22d3ee00; } 100%{ box-shadow: 0 0 0 0 #22d3ee00; } }
.grid.two { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 20px; align-items: stretch; }
.choose-page .grid.two { align-items: start; grid-template-columns: repeat(2, 250px); justify-content: center; }
.avatar { width:100%; border-radius: 12px; border:1px solid #1f2937; }
.card img.avatar { display:block; width:100%; height: 180px; object-fit: cover; }
.choose-page .card img.avatar { height: 200px; }
.card h2 { margin: 10px 0 8px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 1.4em; font-size: 18px; line-height: 1.3; }
.choose-page .card h2 { height: 24px; }
.card .btn { margin-top: auto; }
.choose-page .card .btn { height: 44px; display:inline-flex; align-items:center; }
.fade-in { transition: opacity .3s ease; }
.accent { color: var(--accent); }
.footer { text-align:center; color: var(--muted); padding: 16px; }
.chip { background:#0b1020; border:1px solid #223; padding:8px 10px; border-radius: 999px; margin-left:8px; }
.chip-power { border-color:#8b5cf6; color:#c4b5fd; box-shadow: inset 0 0 10px #8b5cf622; }
/* Badges & Meta */
.meta { color: var(--muted); font-size: 13px; margin: 6px 0 2px; }
.badge { display: inline-block; min-width: 28px; padding: 2px 8px; border-radius: 999px; background: #0b1020; border:1px solid #223; color:#cbd5e1; text-align:center; font-weight:700; }
/* Series HUD */
.series-hud { margin: 10px 0 16px; padding: 12px 14px; display:flex; flex-wrap:wrap; gap: 10px; align-items:center; }
.series-hud .pill { background:#0b1020; border:1px solid #223; border-radius:999px; padding:6px 10px; }
.series-hud .split { flex: 1 1 auto; }
/* Navbar counters */
.app-bar .pill { background:#0b1020; border:1px solid #223; border-radius:999px; padding:4px 8px; font-size:12px; color:#cbd5e1; }

/* Arena specific */
.arena { position: relative; overflow: hidden; }
.arena.siege { display: grid; grid-template-columns: 1fr minmax(320px, 2fr) 1fr; align-items: center; gap: 20px; }
.arena.siege .side { display:flex; flex-direction:column; align-items:center; justify-content:center; gap: 8px; min-height: 160px; }
.arena.siege .side .castle { font-size: 80px; filter: drop-shadow(0 6px 22px #0008); }
.arena.siege .side .nm { font-weight: 800; letter-spacing: .5px; text-shadow: 0 2px 0 #0009; }
.arena.siege .center { display:flex; flex-direction:column; align-items:center; justify-content:center; }
.bar-wrap { position: relative; height: 28px; border-radius: 999px; border:1px solid #1f2937; background: #0b0f17; overflow:hidden; margin: 24px 0; }
.bar-bg { position:absolute; inset:0; background: repeating-linear-gradient(90deg, #0f172a, #0f172a 10px, #111827 10px, #111827 20px); opacity:.7; }
.bar-fill { position:absolute; inset:0 0 0 0; width: 50%; background: linear-gradient(90deg, #ef4444, #22d3ee); box-shadow: inset 0 0 18px #22d3ee66; transition: width .25s ease; }
.gradient-accent { background: linear-gradient(90deg, #ef4444, #f59e0b, #22d3ee); }
.checkpoints { position:absolute; inset:0; pointer-events:none; }
.checkpoints::before { content:""; position:absolute; left:33%; top:0; bottom:0; width:2px; background:#222; box-shadow: 0 0 12px #fff2; }
.checkpoints::after { content:""; position:absolute; left:66%; top:0; bottom:0; width:2px; background:#222; box-shadow: 0 0 12px #fff2; }
.actions { display:flex; gap:12px; justify-content:center; margin-top: 16px; }
.powers { display:flex; gap:8px; justify-content:center; margin-top: 10px; }
.feed { margin-top: 16px; font-family: "Roboto Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: 12px; color:#a5b4fc; max-height: 160px; overflow:auto; border-top:1px dashed #223; padding-top:10px; }
.curve { width: 100%; height: 220px; background: linear-gradient(180deg, #0b0f17, #0f172a); border:1px solid #1f2937; border-radius: 12px; }

/* Effects */
.pop-in { animation: pop .35s ease-out; }
@keyframes pop { from { transform: scale(.98); opacity: 0; } to { transform: scale(1); opacity:1; } }
.hover-raise { transition: transform .15s ease, box-shadow .25s ease; }
.hover-raise:hover { transform: translateY(-4px); box-shadow: 0 18px 40px #000a; }
.choose-page .hover-raise:hover { transform: none; box-shadow: 0 10px 30px #0008; }

/* HUD inside navbar */
.app-bar .hud-center { flex: 1 1 auto; display:flex; justify-content:center; }
.game-hud { display:flex; align-items:center; gap: 12px; padding: 6px 10px; background: #0b1020; border:1px solid #223; border-radius: 999px; box-shadow: 0 6px 18px #0006; }
.game-hud .side { display:flex; align-items:center; gap: 8px; }
.game-hud .avatar.tiny { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; border:1px solid #1f2937; }
.game-hud .nm { font-weight: 700; color:#cbd5e1; }
.game-hud .score { display:flex; flex-direction:column; align-items:center; min-width: 150px; }
.game-hud .score .line { font-weight: 800; letter-spacing: 1px; }
.game-hud .score .sub { font-size: 12px; color:#9ca3af; }

/* Responsive */
@media (max-width: 780px) {
  .grid.two { grid-template-columns: 1fr; }
  .big { font-size: 18px; }
  .card img.avatar { height: 160px; }
  .choose-page .grid.two { grid-template-columns: 250px; justify-content: center; }
  .choose-page .card img.avatar { height: 200px; }
  /* Siege arena responsive tweaks */
  .arena.siege { grid-template-columns: 1fr; gap: 12px; }
  .arena.siege .side { flex-direction: row; gap: 10px; min-height: auto; justify-content: space-between; }
  .arena.siege .side.left { order: 1; }
  .arena.siege .center { order: 2; }
  .arena.siege .side.right { order: 3; }
  .arena.siege .side .castle { font-size: 48px; }
}

/* Choose page: enforce fixed card heights to avoid layout jump */
/* Choose page: fixed card size 250x350 */
.choose-page .grid.two .card { width: 250px; height: 350px; min-height: 350px; max-height: 350px; overflow: hidden; }
@media (max-width: 780px) {
  .choose-page .grid.two .card { width: 250px; height: 350px; min-height: 350px; max-height: 350px; }
}
/* Isolate card layout to avoid reflow when images load */
.choose-page .card { contain: layout paint; }
@media (max-width: 780px) {
  .choose-page .grid.two .card { height: 300px; min-height: 300px; max-height: 300px; }
}
